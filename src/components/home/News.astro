---
import Modal from "../shared/Modal.astro"

const news = [
  {
    id: 'news-1',
    title: "Server Launch!",
    date: "March 27, 2024",
    time: "2:00 PM UTC",
    content: "Our SMP server is now live! Join us for an amazing survival experience. We've prepared a special welcome event for all new players, including exclusive rewards and a guided tour of the spawn area. Don't miss out on this exciting opportunity to be part of our growing community!",
    image: "/images/news1.jpg"
  },
  {
    id: 'news-2',
    title: "Community Event",
    date: "March 28, 2024",
    time: "3:00 PM UTC",
    content: "Join us this weekend for our first community build event! We'll be working together to create an amazing community center. Prizes will be awarded for the best builds, and there will be plenty of opportunities to meet other players and make new friends.",
    image: "/images/news2.jpg"
  }
];
---

<section class="py-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold text-center mb-12 text-mcgreen">Latest News</h2>
    <div class="grid md:grid-cols-2 gap-8">
      {news.map((item) => (
        <>
          <div 
            class="bg-stone-700 rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition-transform duration-300 cursor-pointer"
            onclick={`document.getElementById('${item.id}').classList.remove('hidden')`}
          >
            <div class="p-6">
              <span class="text-sm text-mcstone">{item.date}</span>
              <h3 class="text-xl font-bold text-white mt-2">{item.title}</h3>
              <p class="text-gray-300 mt-4 line-clamp-3">{item.content}</p>
            </div>
          </div>
          <Modal 
            id={item.id}
            title={item.title}
            date={item.date}
            content={item.content}
          />
        </>
      ))}
    </div>
  </div>
</section>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>